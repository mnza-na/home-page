<html>

  <head>
    <link rel="stylesheet" type="text/css" href="./style.css">
    <script type="text/javascript" src="./src/projects.js"></script>
    <script type="text/javascript" src="./src/inPlanning.js"></script>
    <script type="text/javascript" src="./src/workInProgress.js"></script>
    <script type="text/javascript" src="./src/inMaintenance.js"></script>
  </head>

  <body>

    <div class="head bar">

      <div>
        <div class="menu no-select" id="menu"></div>
        <div class="menu-list list" id="menu_list" hidden>

          <div class="item no-select" id="projects">Proyects</div>
          <div class="list" id="project_list" hidden></div>

          <div class="item no-select" onclick="location.href = './about-page/index.html'">About Page</div>

        </div>
      </div>

    </div>

    <div class="content">

      <div class="container">
        
        <div class="sunken width-half heigth-min-content">
          <h4>Work in progress</h4>
          <div id="work-in-progress"></div>
        </div>

        
        <div class="protruding width-half heigth-min-content">
          <h4>For the future</h4>
          <div style="padding-top: 5px; padding-bottom: 5px;" id="in-planning"></div>
        </div>
        
        
        <div class="sunken wight-max heigth-min-content card-container">
          <h4>Finished and in maintenance</h4>
          <div id="in-maintenance"></div>
        </div>

      </div>

    </div>

  </body>
</html>

<script>
  /*
  There are list in the page, menu and projects are the minimal list that need 
  the page if you remove someone it throw error, add all list you want. It 
  function dont create the item in page, anly add the functionality to show a 
  list pressing a specific element.
  */ 
  lists = [
    {tittleId: "menu", listId: "menu_list"},
    {tittleId: "projects", listId: "project_list"}
  ];
</script>

<script type="text/javascript">
  function createListGroup(headerId, listId) {
    document.getElementById(headerId).addEventListener(
      "click",
      function(event){
        list = document.getElementById(listId);

        if(list.hidden){
          list.hidden = false;
        }else{
          list.hidden = true;
        }
      }
    );
  }
  function createCard(project){
    if(project.name && project.img && project.url && project.description)
      return undefined;

    card = document.createElement("div");
    card.className = "card";

    tittle = document.createElement("div");
    tittle.className = "card-header";
    tittle.innerHTML = project.name;
    imgContent = document.createElement("div");
    imgContent.className = "card-image";
    img = document.createElement("img");
    img.src = project["img-src"];
    imgContent.appendChild(img);
    description = document.createElement("div");
    description.className = "card-description";
    description.innerHTML = `<p>${project.description}</p>`;
    card.appendChild(tittle);
    card.appendChild(imgContent);
    card.appendChild(description);
    card.onclick = () => location.href = project.url;
    return card;
  }
  function createLittleCard(project){
    if(project.name){
      littleCard = document.createElement("div");
      littleCard.className = "little-card";
      littleCard.innerHTML = project.name;
      tittle = document.createElement("div");
      tittle.className = "little-card-tittle";
      littleCard.appendChild(tittle);
      if(project.description){
        description = document.createElement("div");
        description.className = "little-card-description";
        description.innerHTML = project.description;
        littleCard.appendChild(description);
      }
      return littleCard;
    }
  }
  function createLabel(project){
    if(project.name){
      label = document.createElement("div");
      label.className = "label";
      label.innerHTML = project.name;
      tittle = document.createElement("div");
      tittle.className = "label-tittle";
      label.appendChild(tittle);
      if(project.description){
        description = document.createElement("div");
        description.className = "label-description";
        description.innerHTML = project.description;
        label.appendChild(description);
      }
      return label;
    }
  }
  function createItem(item){
    if(item.url){
      divItem = document.createElement("div");
      divItem.className = "item no-select";
      divItem.onclick = () => location.href = item.url;
      divItem.innerHTML = item.name;
      return divItem;
    }
  }
</script>

<script type="text/javascript">
  for(list of lists)
    createListGroup(list.tittleId, list.listId);

  projectList = document.getElementById("project_list");
  for ( project of allProjects ){
    ref = createItem(projects[project]);
    if(ref)
      projectList.appendChild(ref);
  }

  inPlanning = document.getElementById("in-planning");
  if(planning.length == 0)
    inPlanning.innerHTML += "You aren't planning D:";
  for( project of planning){
    label = createLabel(projects[project]);
    if(label)
      inPlanning.appendChild(label);
  }

  wip = document.getElementById("work-in-progress");
  if(workInProgress.length == 0)
    wip.innerHTML += "You aren't working D:<";
  for( project of workInProgress){
    littleCard = createLittleCard(projects[project]);
    if(littleCard)
      wip.appendChild(littleCard);
  }
  
  inMaintenance = document.getElementById("in-maintenance");
  if(maintenance.length == 0)
    inMaintenance.innerHTML += "Nothink yet :c";
  for( project of maintenance ){
    card = createCard(projects[project]);
    if(card)
      inMaintenance.appendChild(card);
  }
</script>